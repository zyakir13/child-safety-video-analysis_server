<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Child Safety Video Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="shield-icon">üõ°Ô∏è</span>
                <h1>Child Safety Video Analysis</h1>
            </div>
            <p class="subtitle">Professional AI-powered detection of concerning behavior in childcare environments</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <div id="upload-section" class="section active">
                <div class="upload-card">
                    <h2>Upload Video for Analysis</h2>
                    <p class="description">Upload MP4 video files up to 1 minute in length for automated safety analysis</p>
                    
                    <form id="upload-form" enctype="multipart/form-data">
                        <!-- File Upload Area -->
                        <div class="upload-area" id="upload-area">
                            <div class="upload-content">
                                <span class="upload-icon">üìÅ</span>
                                <p class="upload-text">Drag & drop your MP4 video here</p>
                                <p class="upload-subtext">or <span class="upload-link">browse files</span></p>
                                <input type="file" id="video-file" name="video" accept=".mp4" required>
                            </div>
                        </div>

                        <!-- File Info -->
                        <div id="file-info" class="file-info hidden">
                            <div class="file-details">
                                <span class="file-icon">üé¨</span>
                                <div class="file-text">
                                    <p class="file-name" id="file-name"></p>
                                    <p class="file-meta" id="file-meta"></p>
                                </div>
                                <button type="button" class="remove-file" id="remove-file">√ó</button>
                            </div>
                        </div>

                        <!-- Upload Button -->
                        <button type="submit" class="btn btn-primary" id="upload-btn" disabled>
                            <span class="btn-text">Start Analysis</span>
                            <span class="btn-icon">üöÄ</span>
                        </button>
                    </form>

                    <!-- Features List -->
                    <div class="features">
                        <div class="feature">
                            <span class="feature-icon">üîí</span>
                            <span>Secure Processing</span>
                        </div>
                        <div class="feature">
                            <span class="feature-icon">üìä</span>
                            <span>Detailed Reports</span>
                        </div>
                        <div class="feature">
                            <span class="feature-icon">üéØ</span>
                            <span>Frame-by-Frame Analysis</span>
                        </div>
                    </div>
                </div>
                
                <!-- Examples Section -->
                <div class="examples-section">
                    <h3>Example Analysis Results</h3>
                    <p class="examples-subtitle">See how our AI analyzes different scenarios</p>
                    <div class="examples-grid" id="examples-grid">
                        <!-- Examples will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Processing Section -->
            <div id="processing-section" class="section">
                <div class="processing-card">
                    <h2>üîÑ Analyzing Video...</h2>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="progress-percentage">0%</span>
                        </div>
                    </div>
                    
                    <div class="processing-info">
                        <p class="current-step" id="current-step">Initializing...</p>
                        <p class="processing-details" id="processing-details">
                            Please wait while we analyze your video for safety concerns
                        </p>
                    </div>
                    
                    <div class="processing-steps">
                        <div class="step" id="step-1">
                            <span class="step-icon">üîç</span>
                            <span>Motion Detection</span>
                        </div>
                        <div class="step" id="step-2">
                            <span class="step-icon">üìä</span>
                            <span>Scene Analysis</span>
                        </div>
                        <div class="step" id="step-3">
                            <span class="step-icon">ü§ñ</span>
                            <span>AI Evaluation</span>
                        </div>
                        <div class="step" id="step-4">
                            <span class="step-icon">üìã</span>
                            <span>Report Generation</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section" class="section">
                <div class="results-card">
                    <div id="results-content">
                        <!-- Results will be populated here -->
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="new-analysis-btn">
                            <span class="btn-text">Analyze Another Video</span>
                            <span class="btn-icon">‚ûï</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Error Section -->
            <div id="error-section" class="section">
                <div class="error-card">
                    <h2>‚ùå Analysis Failed</h2>
                    <p id="error-message">An error occurred during processing.</p>
                    <button class="btn btn-secondary" id="retry-btn">
                        <span class="btn-text">Try Again</span>
                        <span class="btn-icon">üîÑ</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 Child Safety Video Analysis. Professional AI-powered safety monitoring.</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>